(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},1362:(a,b,c)=>{Promise.resolve().then(c.bind(c,7742))},2621:()=>{},2704:()=>{},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5866:(a,b,c)=>{Promise.resolve().then(c.bind(c,7506))},6055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(7523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},6953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j,metadata:()=>i});var d=c(5338),e=c(1883),f=c.n(e),g=c(3135),h=c.n(g);c(2704);let i={title:"Create Next App",description:"Generated by create next app"};function j({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:a})})}},7357:()=>{},7385:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,1170,23)),Promise.resolve().then(c.t.bind(c,3597,23)),Promise.resolve().then(c.t.bind(c,6893,23)),Promise.resolve().then(c.t.bind(c,9748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,9576,23)),Promise.resolve().then(c.t.bind(c,3041,23)),Promise.resolve().then(c.t.bind(c,1384,23))},7506:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m});var d=c(1124),e=c(8301),f=c(1330);let g={ThumbUp:({className:a="w-5 h-5"})=>(0,d.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M7 22V11M2 13V20C2 21.1046 2.89543 22 4 22H17.4262C18.907 22 20.1662 20.9197 20.3914 19.4562L21.4683 12.4562C21.7479 10.6389 20.3418 9 18.5032 9H14V4.46584C14 3.10399 12.896 2 11.5342 2C11.2093 2 10.915 2.1913 10.7831 2.48812L7.26394 10.4061C7.10344 10.7673 6.74532 11 6.35013 11H4C2.89543 11 2 11.8954 2 13Z"})}),Minus:({className:a="w-5 h-5"})=>(0,d.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M5 12H19"})}),ThumbDown:({className:a="w-5 h-5"})=>(0,d.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M17 2V13M22 11V4C22 2.89543 21.1046 2 20 2H6.57376C5.09303 2 3.83381 3.08034 3.60858 4.54379L2.53176 11.5438C2.25209 13.3611 3.65821 15 5.49688 15H10V19.5342C10 20.896 11.104 22 12.4658 22C12.7907 22 13.085 21.8087 13.2169 21.5119L16.7361 13.5939C16.8966 13.2327 17.2547 13 17.6499 13H20C21.1046 13 22 12.1046 22 11Z"})}),User:({className:a="w-5 h-5"})=>(0,d.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("circle",{cx:"12",cy:"8",r:"4"}),(0,d.jsx)("path",{d:"M5.5 21C5.5 17.134 8.41015 14 12 14C15.5899 14 18.5 17.134 18.5 21"})]}),Sparkles:({className:a="w-5 h-5"})=>(0,d.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{d:"M12 3L13.4323 8.56775L19 10L13.4323 11.4323L12 17L10.5677 11.4323L5 10L10.5677 8.56775L12 3Z"}),(0,d.jsx)("path",{d:"M19 15L19.7215 17.2785L22 18L19.7215 18.7215L19 21L18.2785 18.7215L16 18L18.2785 17.2785L19 15Z"}),(0,d.jsx)("path",{d:"M5 17L5.54108 18.4589L7 19L5.54108 19.5411L5 21L4.45892 19.5411L3 19L4.45892 18.4589L5 17Z"})]}),Copy:({className:a="w-5 h-5"})=>(0,d.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2"}),(0,d.jsx)("path",{d:"M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5"})]}),Check:({className:a="w-5 h-5"})=>(0,d.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M5 13L9 17L19 7"})}),Globe:({className:a="w-4 h-4"})=>(0,d.jsxs)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,d.jsx)("path",{d:"M2 12H22"}),(0,d.jsx)("path",{d:"M12 2C14.5 4.5 16 8 16 12C16 16 14.5 19.5 12 22C9.5 19.5 8 16 8 12C8 8 9.5 4.5 12 2Z"})]}),ChevronDown:({className:a="w-4 h-4"})=>(0,d.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M6 9L12 15L18 9"})}),Loader:({className:a="w-5 h-5"})=>(0,d.jsxs)("svg",{className:`${a} animate-spin`,viewBox:"0 0 24 24",fill:"none",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},h={ja:{title:"レビュー作成",subtitle:"あなたの体験をタグで選択してください",goodLabel:"良かった点",goodDesc:"満足した点を選んでください",normalLabel:"普通だった点",normalDesc:"特に印象がない点",badLabel:"気になった点",badDesc:"残念だった点があれば選んでください",none:"特になし",noTags:"タグがありません",profile:"プロフィール設定（任意）",gender:"性別",age:"年代",visitFrequency:"来店頻度",selectNone:"選択しない",male:"男性",female:"女性",other:"その他",age10s:"10代",age20s:"20代",age30s:"30代",age40s:"40代",age50s:"50代",age60plus:"60代以上",firstVisit:"初めて",fewTimes:"数回",regular:"常連",tagsSelected:"個選択中",selectTags:"タグを選択してください",reset:"リセット",generate:"レビューを生成",generating:"生成中...",generatedReview:"生成されたレビュー",copyAndPost:"コピーして投稿する",copied:"コピーしました",loading:"読み込み中...",errorNoStoreId:"店舗IDが指定されていません。"},en:{title:"Write a Review",subtitle:"Select tags that describe your experience",goodLabel:"Good Points",goodDesc:"What you liked",normalLabel:"Neutral",normalDesc:"Nothing special",badLabel:"Areas for Improvement",badDesc:"What could be better",none:"None",noTags:"No tags available",profile:"Profile (Optional)",gender:"Gender",age:"Age",visitFrequency:"Visit Frequency",selectNone:"Not specified",male:"Male",female:"Female",other:"Other",age10s:"Teens",age20s:"20s",age30s:"30s",age40s:"40s",age50s:"50s",age60plus:"60+",firstVisit:"First time",fewTimes:"A few times",regular:"Regular",tagsSelected:"selected",selectTags:"Please select tags",reset:"Reset",generate:"Generate Review",generating:"Generating...",generatedReview:"Generated Review",copyAndPost:"Copy & Post",copied:"Copied",loading:"Loading...",errorNoStoreId:"Store ID is not specified."},"zh-CN":{title:"撰写评论",subtitle:"请选择描述您体验的标签",goodLabel:"优点",goodDesc:"您满意的方面",normalLabel:"一般",normalDesc:"没有特别印象",badLabel:"待改进",badDesc:"令人失望的方面",none:"无",noTags:"暂无标签",profile:"个人资料（可选）",gender:"性别",age:"年龄",visitFrequency:"光顾频率",selectNone:"不选择",male:"男",female:"女",other:"其他",age10s:"10多岁",age20s:"20多岁",age30s:"30多岁",age40s:"40多岁",age50s:"50多岁",age60plus:"60岁以上",firstVisit:"首次",fewTimes:"几次",regular:"常客",tagsSelected:"个已选",selectTags:"请选择标签",reset:"重置",generate:"生成评论",generating:"生成中...",generatedReview:"生成的评论",copyAndPost:"复制并发布",copied:"已复制",loading:"加载中...",errorNoStoreId:"未指定店铺ID。"},"zh-TW":{title:"撰寫評論",subtitle:"請選擇描述您體驗的標籤",goodLabel:"優點",goodDesc:"您滿意的方面",normalLabel:"一般",normalDesc:"沒有特別印象",badLabel:"待改進",badDesc:"令人失望的方面",none:"無",noTags:"暫無標籤",profile:"個人資料（選填）",gender:"性別",age:"年齡",visitFrequency:"光顧頻率",selectNone:"不選擇",male:"男",female:"女",other:"其他",age10s:"10多歲",age20s:"20多歲",age30s:"30多歲",age40s:"40多歲",age50s:"50多歲",age60plus:"60歲以上",firstVisit:"首次",fewTimes:"幾次",regular:"常客",tagsSelected:"個已選",selectTags:"請選擇標籤",reset:"重設",generate:"生成評論",generating:"生成中...",generatedReview:"生成的評論",copyAndPost:"複製並發布",copied:"已複製",loading:"載入中...",errorNoStoreId:"未指定店鋪ID。"},ko:{title:"리뷰 작성",subtitle:"경험을 설명하는 태그를 선택하세요",goodLabel:"좋았던 점",goodDesc:"만족스러웠던 점",normalLabel:"보통",normalDesc:"특별히 인상적이지 않았던 점",badLabel:"개선점",badDesc:"아쉬웠던 점",none:"없음",noTags:"태그가 없습니다",profile:"프로필 (선택사항)",gender:"성별",age:"연령대",visitFrequency:"방문 빈도",selectNone:"선택 안함",male:"남성",female:"여성",other:"기타",age10s:"10대",age20s:"20대",age30s:"30대",age40s:"40대",age50s:"50대",age60plus:"60대 이상",firstVisit:"처음",fewTimes:"몇 번",regular:"단골",tagsSelected:"개 선택",selectTags:"태그를 선택하세요",reset:"초기화",generate:"리뷰 생성",generating:"생성 중...",generatedReview:"생성된 리뷰",copyAndPost:"복사하고 게시",copied:"복사됨",loading:"로딩 중...",errorNoStoreId:"매장 ID가 지정되지 않았습니다."}},i=[{code:"ja",label:"日本語"},{code:"en",label:"EN"},{code:"zh-CN",label:"简中"},{code:"zh-TW",label:"繁中"},{code:"ko",label:"한국"}],j={料理の独創性:{ja:"料理の独創性",en:"Creative cuisine","zh-CN":"料理创意","zh-TW":"料理創意",ko:"요리 창의성"},"サービス・ホスピタリティ":{ja:"サービス・ホスピタリティ",en:"Service","zh-CN":"服务","zh-TW":"服務",ko:"서비스"},"ワイン・ペアリング":{ja:"ワイン・ペアリング",en:"Wine pairing","zh-CN":"葡萄酒搭配","zh-TW":"葡萄酒搭配",ko:"와인 페어링"},"店の雰囲気・内装":{ja:"店の雰囲気・内装",en:"Atmosphere","zh-CN":"氛围","zh-TW":"氛圍",ko:"분위기"},提供タイミング:{ja:"提供タイミング",en:"Serving timing","zh-CN":"上菜时间","zh-TW":"上菜時間",ko:"서빙 타이밍"},料理の質:{ja:"料理の質",en:"Food quality","zh-CN":"料理品质","zh-TW":"料理品質",ko:"요리 품질"},接客態度:{ja:"接客態度",en:"Service attitude","zh-CN":"服务态度","zh-TW":"服務態度",ko:"접객 태도"},メニューの豊富さ:{ja:"メニューの豊富さ",en:"Menu variety","zh-CN":"菜单丰富","zh-TW":"菜單豐富",ko:"메뉴 다양성"},コスパ:{ja:"コスパ",en:"Value","zh-CN":"性价比","zh-TW":"性價比",ko:"가성비"},雰囲気:{ja:"雰囲気",en:"Atmosphere","zh-CN":"氛围","zh-TW":"氛圍",ko:"분위기"},清潔感:{ja:"清潔感",en:"Cleanliness","zh-CN":"清洁度","zh-TW":"清潔度",ko:"청결함"},ドリンクの種類:{ja:"ドリンクの種類",en:"Drinks","zh-CN":"饮料","zh-TW":"飲料",ko:"음료"},席の快適さ:{ja:"席の快適さ",en:"Seat comfort","zh-CN":"座位舒适","zh-TW":"座位舒適",ko:"좌석"},待ち時間:{ja:"待ち時間",en:"Wait time","zh-CN":"等待时间","zh-TW":"等待時間",ko:"대기 시간"},予約対応:{ja:"予約対応",en:"Reservation","zh-CN":"预约","zh-TW":"預約",ko:"예약"}};function k({title:a,description:b,icon:c,colorScheme:e,tags:f,selectedTags:g,isNoneSelected:h,onToggle:i,onNoneToggle:k,disabledTags:l,language:m,noneText:n}){let o={success:{iconBg:"bg-emerald-50",iconColor:"text-emerald-600",selected:"bg-emerald-600"},neutral:{iconBg:"bg-gray-100",iconColor:"text-gray-500",selected:"bg-gray-500"},warning:{iconBg:"bg-amber-50",iconColor:"text-amber-600",selected:"bg-amber-600"}}[e];return(0,d.jsxs)("div",{className:"card p-5",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,d.jsx)("div",{className:`w-10 h-10 rounded-xl ${o.iconBg} ${o.iconColor} flex items-center justify-center`,children:c}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:a}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:b})]})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,d.jsx)("button",{onClick:k,className:`
            tag-button
            ${h?`${o.selected} text-white selected`:"bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-100"}
          `,children:n}),f.map(a=>{let b=a.tagName.ja,c=g.includes(b),e=l.includes(b)||h;return(0,d.jsx)("button",{onClick:()=>!e&&i(b),disabled:e,className:`
                tag-button
                ${c?`${o.selected} text-white selected`:"bg-gray-50 text-gray-700 border-gray-200"}
              `,title:a.context,children:(a=>{let b=a.tagName.ja,c=function(a,b){let c=j[a];return c&&c[b]?c[b]:a}(b,m);return c!==b||"ja"===m?c:a.tagName[m]||a.tagName.ja})(a)},b)})]})]})}function l(){(0,f.useSearchParams)().get("id");let[a,b]=(0,e.useState)(null),[c,j]=(0,e.useState)(!0),[l,m]=(0,e.useState)(null),[n,o]=(0,e.useState)("ja"),p=h[n],[q,r]=(0,e.useState)([]),[s,t]=(0,e.useState)([]),[u,v]=(0,e.useState)([]),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)(!0),[A,B]=(0,e.useState)(!0),[C,D]=(0,e.useState)(""),[E,F]=(0,e.useState)(""),[G,H]=(0,e.useState)(""),[I,J]=(0,e.useState)(""),[K,L]=(0,e.useState)(!1),[M,N]=(0,e.useState)(!1),O=(a,b)=>{let c={good:r,normal:t,bad:v},d={good:q,normal:s,bad:u}[a];d.includes(b)?c[a](d.filter(a=>a!==b)):(({good:x,normal:z,bad:B})[a](!1),c[a]([...d,b]))},P=a=>{let b={good:x,normal:z,bad:B};({good:w,normal:y,bad:A})[a]?b[a](!1):(b[a](!0),({good:r,normal:t,bad:v})[a]([]))},Q=a=>Object.entries({good:q,normal:s,bad:u}).filter(([b])=>b!==a).flatMap(([,a])=>a),R=async()=>{if(!a)return;let b=w?[]:q,c=y?[]:s,d=A?[]:u;if(0===b.length+c.length+d.length)return void m("少なくとも1つのタグを選択してください");L(!0),J(""),m(null);try{let e=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storeId:a.id,storeName:a.name,storeCategory:a.category,goodTags:b,normalTags:c,badTags:d,userGender:C||void 0,userAge:E||void 0,visitFrequency:G||void 0,language:n})}),f=await e.json();if(f.error)throw Error(f.error);J(f.review)}catch(a){m(a instanceof Error?a.message:"レビューの生成に失敗しました")}finally{L(!1)}},S=async()=>{try{if(await navigator.clipboard.writeText(I),N(!0),setTimeout(()=>N(!1),2e3),a?.googleMapsUrl)window.open(a.googleMapsUrl,"_blank");else{let b=encodeURIComponent(a?.name||"");window.open(`https://www.google.com/maps/search/${b}`,"_blank")}}catch{alert("コピーに失敗しました")}};if(c)return(0,d.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(g.Loader,{className:"w-8 h-8 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-500",children:p.loading})]})});if(l&&!a)return(0,d.jsx)("div",{className:"flex min-h-screen items-center justify-center p-4",children:(0,d.jsx)("div",{className:"card p-6 text-center max-w-sm",children:(0,d.jsx)("p",{className:"text-gray-600",children:l})})});let T=w?0:q.length,U=T+(y?0:s.length)+(A?0:u.length);return(0,d.jsxs)("div",{className:"min-h-screen pb-32",children:[(0,d.jsx)("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100",children:(0,d.jsx)("div",{className:"max-w-md mx-auto px-4 py-3",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(g.Globe,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,d.jsx)("div",{className:"flex gap-1.5 overflow-x-auto scrollbar-hide",children:i.map(a=>(0,d.jsx)("button",{onClick:()=>o(a.code),className:`lang-pill ${n===a.code?"active":""}`,children:a.label},a.code))})]})})}),(0,d.jsxs)("main",{className:"max-w-md mx-auto px-4 py-6 space-y-5",children:[(0,d.jsxs)("div",{className:"text-center py-4",children:[(0,d.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:a?.name||p.title}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:p.subtitle})]}),(0,d.jsx)(k,{title:p.goodLabel,description:p.goodDesc,icon:(0,d.jsx)(g.ThumbUp,{className:"w-5 h-5"}),colorScheme:"success",tags:a?.selectableTags||[],selectedTags:q,isNoneSelected:w,onToggle:a=>O("good",a),onNoneToggle:()=>P("good"),disabledTags:Q("good"),language:n,noneText:p.none}),(0,d.jsx)(k,{title:p.normalLabel,description:p.normalDesc,icon:(0,d.jsx)(g.Minus,{className:"w-5 h-5"}),colorScheme:"neutral",tags:a?.selectableTags||[],selectedTags:s,isNoneSelected:y,onToggle:a=>O("normal",a),onNoneToggle:()=>P("normal"),disabledTags:Q("normal"),language:n,noneText:p.none}),(0,d.jsx)(k,{title:p.badLabel,description:p.badDesc,icon:(0,d.jsx)(g.ThumbDown,{className:"w-5 h-5"}),colorScheme:"warning",tags:a?.selectableTags||[],selectedTags:u,isNoneSelected:A,onToggle:a=>O("bad",a),onNoneToggle:()=>P("bad"),disabledTags:Q("bad"),language:n,noneText:p.none}),(0,d.jsxs)("details",{className:"card overflow-hidden group",children:[(0,d.jsxs)("summary",{className:"px-5 py-4 cursor-pointer font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-3 list-none",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gray-100 text-gray-500 flex items-center justify-center",children:(0,d.jsx)(g.User,{className:"w-5 h-5"})}),(0,d.jsx)("span",{className:"flex-1",children:p.profile}),(0,d.jsx)(g.ChevronDown,{className:"w-4 h-4 text-gray-400 transition-transform group-open:rotate-180"})]}),(0,d.jsxs)("div",{className:"px-5 pb-5 pt-2 grid gap-3 sm:grid-cols-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:p.gender}),(0,d.jsxs)("select",{value:C,onChange:a=>D(a.target.value),className:"w-full rounded-lg border border-gray-200 bg-white p-2.5 text-sm text-gray-900 focus:border-gray-400 focus:outline-none",children:[(0,d.jsx)("option",{value:"",children:p.selectNone}),(0,d.jsx)("option",{value:"男性",children:p.male}),(0,d.jsx)("option",{value:"女性",children:p.female}),(0,d.jsx)("option",{value:"その他",children:p.other})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:p.age}),(0,d.jsxs)("select",{value:E,onChange:a=>F(a.target.value),className:"w-full rounded-lg border border-gray-200 bg-white p-2.5 text-sm text-gray-900 focus:border-gray-400 focus:outline-none",children:[(0,d.jsx)("option",{value:"",children:p.selectNone}),(0,d.jsx)("option",{value:"10代",children:p.age10s}),(0,d.jsx)("option",{value:"20代",children:p.age20s}),(0,d.jsx)("option",{value:"30代",children:p.age30s}),(0,d.jsx)("option",{value:"40代",children:p.age40s}),(0,d.jsx)("option",{value:"50代",children:p.age50s}),(0,d.jsx)("option",{value:"60代以上",children:p.age60plus})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:p.visitFrequency}),(0,d.jsxs)("select",{value:G,onChange:a=>H(a.target.value),className:"w-full rounded-lg border border-gray-200 bg-white p-2.5 text-sm text-gray-900 focus:border-gray-400 focus:outline-none",children:[(0,d.jsx)("option",{value:"",children:p.selectNone}),(0,d.jsx)("option",{value:"初めて",children:p.firstVisit}),(0,d.jsx)("option",{value:"数回",children:p.fewTimes}),(0,d.jsx)("option",{value:"常連",children:p.regular})]})]})]})]}),l&&(0,d.jsx)("div",{className:"card p-4 border-red-200 bg-red-50 text-red-600 text-sm",children:l}),I&&(0,d.jsxs)("div",{className:"result-card animate-fade-in",children:[(0,d.jsxs)("h2",{className:"text-sm font-medium text-gray-500 mb-3 flex items-center gap-2",children:[(0,d.jsx)(g.Sparkles,{className:"w-4 h-4"}),p.generatedReview]}),(0,d.jsx)("div",{className:"text-gray-800 leading-relaxed mb-5 text-base",children:I}),(0,d.jsxs)("button",{onClick:S,className:"btn-copy flex items-center justify-center gap-2",children:[M?(0,d.jsx)(g.Check,{className:"w-5 h-5"}):(0,d.jsx)(g.Copy,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:M?p.copied:p.copyAndPost})]})]})]}),(0,d.jsx)("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-4",children:(0,d.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3 text-sm",children:[(0,d.jsx)("div",{className:"text-gray-600",children:U>0?(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{className:"font-semibold text-gray-900",children:U})," ",p.tagsSelected]}):(0,d.jsx)("span",{className:"text-gray-400",children:p.selectTags})}),U>0&&(0,d.jsx)("button",{onClick:()=>{r([]),t([]),v([]),x(!1),z(!0),B(!0),J(""),m(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:p.reset})]}),(0,d.jsx)("button",{onClick:R,disabled:K||0===U,className:"btn-generate flex items-center justify-center gap-2",children:K?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.Loader,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:p.generating})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.Sparkles,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:p.generate})]})})]})}),M&&(0,d.jsxs)("div",{className:"toast animate-fade-in flex items-center gap-2",children:[(0,d.jsx)(g.Check,{className:"w-4 h-4"}),p.copied]})]})}function m(){return(0,d.jsx)(e.Suspense,{fallback:(0,d.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,d.jsx)(g.Loader,{className:"w-8 h-8 text-gray-400"})}),children:(0,d.jsx)(l,{})})}},7742:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(7954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/takumiyoshikawa/Desktop/review-app/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/takumiyoshikawa/Desktop/review-app/app/page.tsx","default")},8009:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,4160,23)),Promise.resolve().then(c.t.bind(c,1603,23)),Promise.resolve().then(c.t.bind(c,8495,23)),Promise.resolve().then(c.t.bind(c,5170,23)),Promise.resolve().then(c.t.bind(c,7526,23)),Promise.resolve().then(c.t.bind(c,8922,23)),Promise.resolve().then(c.t.bind(c,9234,23)),Promise.resolve().then(c.t.bind(c,2263,23)),Promise.resolve().then(c.bind(c,2146))},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9902:a=>{"use strict";a.exports=require("path")},9985:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(9754),e=c(9117),f=c(6595),g=c(2324),h=c(9326),i=c(8928),j=c(175),k=c(12),l=c(4290),m=c(2696),n=c(2802),o=c(7533),p=c(5229),q=c(2822),r=c(261),s=c(6453),t=c(2474),u=c(6713),v=c(1356),w=c(2685),x=c(6225),y=c(3446),z=c(2762),A=c(5742),B=c(6439),C=c(1170),D=c.n(C),E=c(2506),F=c(1203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,7742)),"/Users/takumiyoshikawa/Desktop/review-app/app/page.tsx"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,6055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,6953)),"/Users/takumiyoshikawa/Desktop/review-app/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,1170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,7028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,2768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,6055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,I=["/Users/takumiyoshikawa/Desktop/review-app/app/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(9902).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[586,71],()=>b(b.s=9985));module.exports=c})();